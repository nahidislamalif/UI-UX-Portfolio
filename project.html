<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super Shop Management System</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .login-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .login-card {
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 400px;
        }
        .navbar {
            background-color: white !important;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .dashboard-card {
            background: white;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.08);
            margin-bottom: 20px;
        }
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
        }
        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        .table-container {
            background: white;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.08);
        }
        .btn-primary {
            background-color: #667eea;
            border-color: #667eea;
        }
        .btn-primary:hover {
            background-color: #5568d3;
            border-color: #5568d3;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>

    <!-- Login Page -->
    <div id="loginPage" class="login-container">
        <div class="login-card">
            <h2 class="text-center mb-4">Super Shop Admin</h2>
            <form id="loginForm">
                <div class="mb-3">
                    <label class="form-label">Username</label>
                    <input type="text" class="form-control" id="username" placeholder="Enter username" required>
                </div>
                <div class="mb-3">
                    <label class="form-label">Password</label>
                    <input type="password" class="form-control" id="password" placeholder="Enter password" required>
                </div>
                <button type="submit" class="btn btn-primary w-100">Login</button>
                <div id="loginError" class="alert alert-danger mt-3 hidden"></div>
                <div class="text-center mt-3 text-muted small">
                    <!-- Demo: admin / admin123 -->
                </div>
            </form>
        </div>
    </div>

    <!-- Admin Dashboard -->
    <div id="adminPage" class="hidden">
        <!-- Navbar -->
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
                <a class="navbar-brand fw-bold" href="#">Super Shop</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link active" href="#" onclick="showPage('dashboard')">Dashboard</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showPage('products')">Products</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showPage('sales')">Sales</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-danger" href="#" onclick="logout()">Logout</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Dashboard Section -->
        <div id="dashboardSection" class="container mt-4">
            <h3 class="mb-4">Dashboard</h3>
            <div class="row">
                <div class="col-md-4">
                    <div class="stat-card">
                        <div class="stat-value" id="totalProducts">0</div>
                        <div class="stat-label">Total Products</div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="stat-card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                        <div class="stat-value" id="totalSales">0</div>
                        <div class="stat-label">Total Sales</div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="stat-card" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                        <div class="stat-value">৳<span id="totalRevenue">0</span></div>
                        <div class="stat-label">Total Revenue</div>
                    </div>
                </div>
            </div>
            
            <div class="dashboard-card mt-4">
                <h5>Recent Sales</h5>
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Product</th>
                                <th>Quantity</th>
                                <th>Price</th>
                                <th>Total</th>
                                <th>Date</th>
                            </tr>
                        </thead>
                        <tbody id="recentSalesTable"></tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Products Section -->
        <div id="productsSection" class="container mt-4 hidden">
            <h3 class="mb-4">Product Management</h3>
            
            <div class="dashboard-card">
                <h5>Add New Product</h5>
                <form id="productForm" class="row g-3">
                    <div class="col-md-4">
                        <input type="text" class="form-control" id="productName" placeholder="Product Name" required>
                    </div>
                    <div class="col-md-3">
                        <input type="number" class="form-control" id="productPrice" placeholder="Price" required>
                    </div>
                    <div class="col-md-3">
                        <input type="number" class="form-control" id="productStock" placeholder="Stock" required>
                    </div>
                    <div class="col-md-2">
                        <button type="submit" class="btn btn-primary w-100">Add Product</button>
                    </div>
                </form>
            </div>

            <div class="table-container mt-4">
                <h5>Products List</h5>
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Product Name</th>
                                <th>Price</th>
                                <th>Stock</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="productsTable"></tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Sales Section -->
        <div id="salesSection" class="container mt-4 hidden">
            <h3 class="mb-4">Sales Entry</h3>
            
            <div class="dashboard-card">
                <h5>Record New Sale</h5>
                <form id="salesForm" class="row g-3">
                    <div class="col-md-4">
                        <select class="form-control" id="saleProduct" required>
                            <option value="">Select Product</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <input type="number" class="form-control" id="saleQuantity" placeholder="Quantity" min="1" required>
                    </div>
                    <div class="col-md-3">
                        <input type="text" class="form-control" id="saleTotal" placeholder="Total" readonly>
                    </div>
                    <div class="col-md-2">
                        <button type="submit" class="btn btn-primary w-100">Add Sale</button>
                    </div>
                </form>
            </div>

            <div class="table-container mt-4">
                <h5>Sales History</h5>
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Product</th>
                                <th>Quantity</th>
                                <th>Price</th>
                                <th>Total</th>
                                <th>Date</th>
                            </tr>
                        </thead>
                        <tbody id="salesTable"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
        // Data Storage
        let products = [];
        let sales = [];
        let productIdCounter = 1;
        let saleIdCounter = 1;

        // Login Handler
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (username === 'admin' && password === 'admin123') {
                document.getElementById('loginPage').classList.add('hidden');
                document.getElementById('adminPage').classList.remove('hidden');
                updateDashboard();
            } else {
                const errorDiv = document.getElementById('loginError');
                errorDiv.textContent = 'Invalid username or password!';
                errorDiv.classList.remove('hidden');
            }
        });

        // Logout Handler
        function logout() {
            document.getElementById('adminPage').classList.add('hidden');
            document.getElementById('loginPage').classList.remove('hidden');
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
            document.getElementById('loginError').classList.add('hidden');
        }

        // Page Navigation
        function showPage(page) {
            document.getElementById('dashboardSection').classList.add('hidden');
            document.getElementById('productsSection').classList.add('hidden');
            document.getElementById('salesSection').classList.add('hidden');
            
            if (page === 'dashboard') {
                document.getElementById('dashboardSection').classList.remove('hidden');
                updateDashboard();
            } else if (page === 'products') {
                document.getElementById('productsSection').classList.remove('hidden');
                renderProducts();
            } else if (page === 'sales') {
                document.getElementById('salesSection').classList.remove('hidden');
                renderSales();
                updateProductDropdown();
            }
        }

        // Product Management
        document.getElementById('productForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const name = document.getElementById('productName').value;
            const price = parseFloat(document.getElementById('productPrice').value);
            const stock = parseInt(document.getElementById('productStock').value);
            
            products.push({
                id: productIdCounter++,
                name: name,
                price: price,
                stock: stock
            });
            
            this.reset();
            renderProducts();
            updateDashboard();
        });

        function renderProducts() {
            const tbody = document.getElementById('productsTable');
            tbody.innerHTML = '';
            
            products.forEach(product => {
                const row = `
                    <tr>
                        <td>${product.id}</td>
                        <td>${product.name}</td>
                        <td>৳${product.price.toFixed(2)}</td>
                        <td>${product.stock}</td>
                        <td>
                            <button class="btn btn-sm btn-danger" onclick="deleteProduct(${product.id})">Delete</button>
                        </td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
        }

        function deleteProduct(id) {
            if (confirm('Are you sure you want to delete this product?')) {
                products = products.filter(p => p.id !== id);
                renderProducts();
                updateDashboard();
            }
        }

        // Sales Management
        function updateProductDropdown() {
            const select = document.getElementById('saleProduct');
            select.innerHTML = '<option value="">Select Product</option>';
            
            products.forEach(product => {
                if (product.stock > 0) {
                    select.innerHTML += `<option value="${product.id}">${product.name} - ৳${product.price} (Stock: ${product.stock})</option>`;
                }
            });
        }

        document.getElementById('saleProduct').addEventListener('change', function() {
            const productId = parseInt(this.value);
            const quantity = document.getElementById('saleQuantity').value;
            updateSaleTotal(productId, quantity);
        });

        document.getElementById('saleQuantity').addEventListener('input', function() {
            const productId = parseInt(document.getElementById('saleProduct').value);
            updateSaleTotal(productId, this.value);
        });

        function updateSaleTotal(productId, quantity) {
            const product = products.find(p => p.id === productId);
            if (product && quantity) {
                const total = product.price * parseInt(quantity);
                document.getElementById('saleTotal').value = '৳' + total.toFixed(2);
            } else {
                document.getElementById('saleTotal').value = '';
            }
        }

        document.getElementById('salesForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const productId = parseInt(document.getElementById('saleProduct').value);
            const quantity = parseInt(document.getElementById('saleQuantity').value);
            
            const product = products.find(p => p.id === productId);
            
            if (product.stock < quantity) {
                alert('Insufficient stock!');
                return;
            }
            
            const total = product.price * quantity;
            
            sales.push({
                id: saleIdCounter++,
                productId: productId,
                productName: product.name,
                quantity: quantity,
                price: product.price,
                total: total,
                date: new Date().toLocaleString()
            });
            
            product.stock -= quantity;
            
            this.reset();
            renderSales();
            updateProductDropdown();
            updateDashboard();
        });

        function renderSales() {
            const tbody = document.getElementById('salesTable');
            tbody.innerHTML = '';
            
            sales.slice().reverse().forEach(sale => {
                const row = `
                    <tr>
                        <td>${sale.id}</td>
                        <td>${sale.productName}</td>
                        <td>${sale.quantity}</td>
                        <td>৳${sale.price.toFixed(2)}</td>
                        <td>৳${sale.total.toFixed(2)}</td>
                        <td>${sale.date}</td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
        }

        // Dashboard Updates
        function updateDashboard() {
            document.getElementById('totalProducts').textContent = products.length;
            document.getElementById('totalSales').textContent = sales.length;
            
            const totalRevenue = sales.reduce((sum, sale) => sum + sale.total, 0);
            document.getElementById('totalRevenue').textContent = totalRevenue.toFixed(2);
            
            const recentTbody = document.getElementById('recentSalesTable');
            recentTbody.innerHTML = '';
            
            const recentSales = sales.slice(-5).reverse();
            recentSales.forEach(sale => {
                const row = `
                    <tr>
                        <td>${sale.productName}</td>
                        <td>${sale.quantity}</td>
                        <td>৳${sale.price.toFixed(2)}</td>
                        <td>৳${sale.total.toFixed(2)}</td>
                        <td>${sale.date}</td>
                    </tr>
                `;
                recentTbody.innerHTML += row;
            });
            
            if (recentSales.length === 0) {
                recentTbody.innerHTML = '<tr><td colspan="5" class="text-center text-muted">No sales yet</td></tr>';
            }
        }
    </script>
</body>
</html>